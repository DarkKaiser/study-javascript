<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>14.10 jQuery UI 음악 플레이어 만들기</title>
    <link href="css/Common.css" rel="stylesheet" type="text/css" />
    <link href="css/14.css" rel="stylesheet" type="text/css" />
    <link href="development-bundle/themes/ui-lightness/jquery-ui-1.8.1.custom.css" rel="stylesheet" type="text/css" />
    
    <style type="text/css">
		.mplayer { position: relative; width: 40%; height: 2.5em; margin: 50px 0 100px 0; }

		.mplayer .buttons-container { position: absolute; top: 10px; left: 10px; }
		.mplayer .buttons-container .playpause { height: 1.2em; width: 1.2em; display: block; position: relative; top: -2px; left: -2px; }
		.mplayer .buttons-container .playpause .ui-icon { margin: -1px 0 0 -1px; }
		.mplayer .playpause .ui-icon-play, .paused .playpause .ui-icon-pause { display: none; }
		.paused .playpause .ui-icon-play { display: block; }
    </style>
    
    <script src="../Scripts/jquery-1.4.2.js" type="text/javascript"></script>
    <script src="js/jquery-ui-1.8.1.custom.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            var secondsTotal = 195;

            var $audio = $('audio'), audioEl = $audio[0];
            var audio = {
                currentTime: 0,
                duration: secondsTotal,
                volume: 0.5,
                set: function (key, value) {
                    this[key] = value;
                    try { audioEl[key] = value; } catch (e) { }
                    if (key == 'currentTime') {
                        $audio.trigger('timeupdate');
                    }
                    if (key == 'volume') {
                        $audio.trigger('volumechange');
                    }
                },
                play: function () {
                    audioEl.play && audioEl.play();
                },
                pause: function () {
                    audioEl.pause && audioEl.pause();
                }
            };
            $audio.bind('timeupdate', function () {
                audio.currentTime = audioEl.currentTime;
            });
            audio.set('currentTime', 0);
            audio.set('volume', 0.5);

            // Create the play/pause button using two toggling jQuery UI icons
            $('.mplayer .playpause').click(function () {
                var player = $(this).parents('.mplayer');
                if (player.is('.paused')) {
                    $('.mplayer').removeClass('paused');
                    audio.play();
                } else {
                    $('.mplayer').addClass('paused');
                    audio.pause();
                }
                return false;
            })
		    .hover(function () { $(this).addClass('ui-state-hover'); },
			    function () { $(this).removeClass('ui-state-hover'); })
		    .focus(function () { $(this).addClass('ui-state-focus'); })
		    .blur(function () { $(this).removeClass('ui-state-focus'); });

            $('.mplayer').addClass('paused');
        });
    </script>
</head>
<body>
    <h1>14.10 jQuery UI 음악 플레이어 만들기</h1>
	<h2>14.10.1 재생 버튼과 일시 중지 버튼</h2>

	<audio id="theAudio" src="http://jquery-cookbook.com/examples/13/BigBillBroonzy_BabyPleaseDontGo.ogg"></audio>

	<div class="mplayer ui-widget">
		<div class="buttons-container">
			<a class="playpause ui-state-default ui-corner-all" href="#">
				<span class="ui-icon ui-icon-play"></span>
				<span class="ui-icon ui-icon-pause"></span>
			</a>
		</div>
	</div>
</body>
</html>
